---
title: Staircase Climbing Combinations
tags: [Fibonacci sequence]
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

Given a staircase with a length of steps, where you can take 1 or 2 steps at a time, find the number of distinct combinations to reach the top of the staircase from the bottom of the stairs.

<!-- truncate -->

<Tabs>
  <TabItem value="examples" label="Examples" defaultValue>
Input: steps = 1
Output: 1
Explanation: There is only one way i.e take 1-step

Input: steps = 2
Output: 2
Explanation: There are two ways, either take two 1-step or take one 2-step

Input: steps = 3
Output: 3
Explanation: There are three ways: 1-step three times, 1-step then 2-step, 2-step then 1-step

</TabItem>
<TabItem value="notes" label="Notes" >
Imagine the staircase has N steps. You are standing at the bottom (Step 0). The number of ways you can reach the top of a staircase depends only on the ways you could reach the steps just before the top.
To reach Step N, your last move had to be one of two possibilities:

* A 1-step move from Step N-1.
* A 2-step move from Step N-2.

This leads to the recurrence relation:

`Ways to reach Step N = (Ways to reach Step N-1) + (Ways to reach Step N-2)`



---

### Step-by-Step Example: N=5

Let's use this simple rule to calculate the ways for a staircase with N=5 steps.

#### Step 1: Base Cases

| Steps | Ways | Combinations |
| :---: | :---: | :--- |
| **1** | 1 | (1) |
| **2** | 2 | (1, 1), (2) |

#### Step 2: Calculate Step 3

To get to Step 3, you had to come from Step 2 OR Step 1.

Ways(3) = Ways(2) + Ways(1) 

Ways(3) = 2 + 1 = 3


*(The 3 ways are: 1-1-1, 1-2, 2-1)*

#### Step 3: Calculate Step 4

To get to Step 4, you had to come from Step 3 OR Step 2.

Ways(4) = Ways(3) + Ways(2) 

Ways(4) = 3 + 2 = 5


*(The 5 ways are: 1-1-1-1, 1-1-2, 1-2-1, 2-1-1, 2-2)*

#### Step 4: Calculate Step 5

To get to Step 5, you had to come from Step 4 OR Step 3.

Ways(5) = Ways(4) + Ways(3) Ways(5) = 5 + 3 = 8


---

### Conclusion for the Code

To write the code, you don't need recursion; you just need to loop and keep track of the last two totals you calculated.

1.  Start with `ways1 = 1` (for Step 1) and `ways2 = 2` (for Step 2).
2.  In the loop, calculate the `currentWays = ways1 + ways2`.
3.  Then, slide your window: `ways1` becomes the old `ways2`, and `ways2` becomes the `currentWays`.
4.  Repeat until you reach the desired total number of steps.
</TabItem>
<TabItem value="solution" label="Solution" >
```jsx 
function staircaseClimbingCombinations(n) {
    // Handle edge case: 0 or negative steps
    if (n <= 0) {
        return 0;
    }
    // Base case for n=1 step
    if (n === 1) {
        return 1;
    }

    // w1 holds W(i-2), initialized for W(1) = 1
    let w1 = 1;
    // w2 holds W(i-1), initialized for W(2) = 2
    let w2 = 2;
    // s is now a temporary variable to hold the new calculation W(i)
    let s = 0

    // Loop starts at the 3rd step and runs UP TO AND INCLUDING the target 'n'.
    for (let i = 3; i <= n; i++) {
        // 1. Calculate the number of ways for the current step (i): W(i) = W(i-1) + W(i-2)
        s = w1 + w2;

        // 2. Shift values for the next iteration (i+1):
        // The old W(i-1) (w2) becomes the new W(i-2) (w1)
        w1 = w2;
        // The new W(i) (s) becomes the new W(i-1) (w2)
        w2 = s;
    }

    // Return w2, which holds the final calculated result W(n).
    // If n=2, the loop is skipped and w2 (which is 2) is correctly returned.
    return w2;
}

// Test case for n=3 now returns 3
// Test case for n=2 now returns 2

```
</TabItem>

</Tabs>

